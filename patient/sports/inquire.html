<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=medium-dpi, viewport-fit=cover" />
    <meta name="author" content="">
    <meta name="title" content="">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <link rel="stylesheet" href="../css/ini.min.css">
    <link rel="stylesheet" href="../css/swiper.min.css">
    <script type="text/javascript" src="../js/jquery.3.3.1.min.js"></script>
    <script type="text/javascript" src="../js/webfont-NotoSansKR.js"></script>
    <script type="text/javascript" src="../js/d3.v5.min.js"></script>
    <script type="text/javascript" src="../js/swiper.min.js"></script>
    <script type="text/javascript" src="../js/common.js"></script>
    <noscript>
        <link rel="stylesheet" href="../css/NotoSansKR.css">
    </noscript>
    <link rel="stylesheet" href="../css/contents.css">
    <title>NEUROGAIT</title>
  </head>
<body>
  <div id="wrap">
    <div class="default_page">
      <div class="page">
        <div class="page_head">
          <h1>의료진에게 문의</h1>
          <a href="#" class="back_btn"><span>뒤로가기</span></a>
          <span class="headbg"></span>
        </div>
        <div class="container">
          <p class="over_ti mt mb20">문의 작성</p>
          <div class="inquire_f">
            <textarea name="" id="" placeholder="문의하실 내용을 입력해 주세요."></textarea>
            <div class="preview"></div>
            <div class="bunt">
              <label for="image_uploads"></label>
              <input type="file" id="image_uploads" class="image_uploads" name="image_uploads" multiple>
              <a href="#" class="btn">문의제출</a>
            </div>
          </div>
          <p class="over_ti mt32 mb20">문답 내역</p>
          <div class="inquire_list">
            <ul>
              <li>
                <div class="tn">
                  <div class="ti">문의 내용입니다. 문의 내용입니다. 문의 내용…문의 내용입니다. 문의 내용입니다. 문의 내용…</div>
                  <div class="da">2021.10.16 08:31</div>
                </div>
                <div class="cn">
                  <div class="q">
                    <div class="tx">문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. </div>
                    <span class="file">Filename area.mov</span>
                  </div>
                  <div class="a">
                    <p>재활치료과 OOO</p>
                    <div class="tx">문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. </div>
                    <div class="da">2021.10.16 08:31</div>
                    <span class="file">Filename area.mov</span>
                  </div>
                </div>
              </li>
              <li>
                <div class="tn">
                  <div class="ti">문의 내용입니다. 문의 내용입니다. 문의 내용…문의 내용입니다. 문의 내용입니다. 문의 내용…</div>
                  <div class="da">2021.10.16 08:31</div>
                </div>
                <div class="cn">
                  <div class="q">
                    <div class="tx">문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. </div>
                    <span class="file">Filename area.mov</span>
                  </div>
                  <div class="a">
                    <p>재활치료과 OOO</p>
                    <div class="tx">문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. </div>
                    <div class="da">2021.10.16 08:31</div>
                    <span class="file">Filename area.mov</span>
                  </div>
                </div>
              </li>
              <li>
                <div class="tn">
                  <div class="ti">문의 내용입니다. 문의 내용입니다. 문의 내용…문의 내용입니다. 문의 내용입니다. 문의 내용…</div>
                  <div class="da">2021.10.16 08:31</div>
                </div>
                <div class="cn">
                  <div class="q">
                    <div class="tx">문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. </div>
                    <span class="file">Filename area.mov</span>
                  </div>
                  <div class="a">
                    <p>재활치료과 OOO</p>
                    <div class="tx">문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. 문의 내용 탭하면 펼쳐집니다. </div>
                    <div class="da">2021.10.16 08:31</div>
                    <span class="file">Filename area.mov</span>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <script>
          const imageuploads = document.querySelector('.image_uploads');
          const preview = document.querySelector('.preview');
          imageuploads.addEventListener('change', updateImageDisplay);
          function updateImageDisplay() {
            while(preview.firstChild) {
              preview.removeChild(preview.firstChild);
            }
            const curFiles = imageuploads.files;
            if(curFiles.length === 0) {
              const para = document.createElement('p');
              para.textContent = '';
              preview.appendChild(para);
            } else {
              const list = document.createElement('ol');
              preview.appendChild(list);
              for(const file of curFiles) {
                const listItem = document.createElement('li');
                const para = document.createElement('p');
                const span = document.createElement('span');
                span.className = "prev_delete";
                if(validFileType(file)) {
                  para.textContent = file.name;
                  const image = document.createElement('img');
                  image.src = URL.createObjectURL(file);
                  listItem.className = "isimg";
                  listItem.appendChild(image);
                  listItem.appendChild(para);
                  listItem.appendChild(span);
                } else {
                  para.textContent = file.name;
                  listItem.appendChild(para);
                  listItem.appendChild(span);
                }
                list.appendChild(listItem);
              }
              
            }
          }
          const fileTypes = ["image/apng","image/bmp","image/gif","image/jpeg","image/pjpeg","image/png","image/svg+xml","image/tiff","image/webp","image/x-icon"];
          function validFileType(file) {
            return fileTypes.includes(file.type);
          }
          $('.preview').on("click",'.prev_delete', function(e) {
            $(this).parents('li').remove(); //보여지는 부분만 삭제함
          });
        </script>
      </div>
    </div>
  </div>
</body>
</html>